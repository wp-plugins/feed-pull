(function(n,t,e){"use strict";var a=function(){function a(){function a(){return u.find("tr").last().attr("data-mapping-row-id")}function i(){n(this).parents("tr").fadeOut().remove()}function o(){var n=parseInt(a())+1,e=t.template(s,{rowID:n});u.append(e)}function l(){d.animate({opacity:1}),n.ajax({type:"post",url:ajaxurl,dataType:"json",data:{action:"pull",nonce:e.nonce,source_feed_id:f.val()}}).done(function(e){if(e&&e.log){for(var a=n("<ul>"),i=0;e.log.length>i;i++){var o=t.template(g,e.log[i]);a.append(o)}m.html(a)}d.animate({opacity:0})})}var p=n("#fp_field_mapping"),r=p.find("table"),u=r.find("tbody"),c=n("#fp_manual_pull"),f=n("#post_ID"),d=n("#fp-spinner"),m=n("#fp_log .inside"),s=n("#mapping-row-template").html(),g=n("#log-item-template").html();r.on("click","input.delete",i),p.on("click","input.add-new",o),c.on("click",l)}function i(){return null===o&&(o=new a),o}var o=null;return{getInstance:i}}();a.getInstance()})(jQuery,_,FP_Settings,window);