(function(n,t,a){"use strict";var e=function(){function e(){function e(){return u.find("tr").last().attr("data-mapping-row-id")}function i(){n(this).parents("tr").fadeOut().remove()}function o(){var n=parseInt(e())+1,a=t.template(s,{rowID:n});u.append(a)}function p(){d.animate({opacity:1}),n.ajax({type:"post",url:ajaxurl,dataType:"json",data:{action:"pull",nonce:a.nonce,source_feed_id:f.val()}}).always(function(){d.animate({opacity:0})})}var l=n("#fp_field_mapping"),r=l.find("table"),u=r.find("tbody"),c=n("#fp_manual_pull"),f=n("#post_ID"),d=n("#fp-spinner");n("#fp_log .inside");var s=n("#mapping-row-template").html();n("#log-item-template").html(),r.on("click","input.delete",i),l.on("click","input.add-new",o),c.on("click",p)}function i(){return null===o&&(o=new e),o}var o=null;return{getInstance:i}}();e.getInstance()})(jQuery,_,FP_Settings,window);