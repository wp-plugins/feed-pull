(function(n,t,e){"use strict";var a=function(){function a(){function a(){return u.find("tr").last().attr("data-mapping-row-id")}function i(){n(this).parents("tr").fadeOut().remove()}function o(){var e=parseInt(a())+1,i=n("#mapping-row-template").html(),o=t.template(i,{rowID:e});u.append(o)}function p(){d.animate({opacity:1}),n.ajax({type:"post",url:ajaxurl,data:{action:"pull",nonce:e.nonce,source_feed_id:f.val()}}).complete(function(){d.animate({opacity:0})})}var c=n("#fp_field_mapping"),r=c.find("table"),u=r.find("tbody"),l=n("#fp_manual_pull"),f=n("#post_ID"),d=n("#fp-spinner");r.on("click","input.delete",i),c.on("click","input.add-new",o),l.on("click",p)}function i(){return null===o&&(o=new a),o}var o=null;return{getInstance:i}}();a.getInstance()})(jQuery,_,FP_Settings,window);